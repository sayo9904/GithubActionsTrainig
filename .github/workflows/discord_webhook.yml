name: Discord Notification

on:
  pull_request:
    types: [opened, reopened]
  push:
    branches:
      - main

env:
  DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification for PR
        if: ${{ github.event_name == 'pull_request' }}
        run: |
          curl \
            -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "content": "ğŸ“¢ æ–°ã—ã„ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒä½œæˆã•ã‚Œã¾ã—ãŸï¼"
            }' \
            "$DISCORD_WEBHOOK_URL"

      - name: Send Discord Notification for Push/Merge
        if: ${{ github.event_name == 'push' }}
        run: |
          curl \
            -X POST \
            -H "Content-Type: application/json" \
            -d '{
              "content": "âœ… ãƒ¡ã‚¤ãƒ³ãƒ–ãƒ©ãƒ³ãƒã«ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸï¼"
            }' \
            "$DISCORD_WEBHOOK_URL"
            